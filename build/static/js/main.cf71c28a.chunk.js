(this["webpackJsonpcommit-stalker"]=this["webpackJsonpcommit-stalker"]||[]).push([[0],{165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o);a(78),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(10),i=a.n(l),s=a(16),u=a(30),m=a(31),d=a(36),h=a(34),p=a(213),f=a(56),g=a.n(f),v=a(40),y=a.n(v);a(165);function k(e){var t=1+(e.totalCommitNum/100|0);return r.a.createElement("div",{className:"page-info"},"".concat(e.page," / ").concat(t))}function E(e,t){document.querySelectorAll(".page-info-wrap").forEach((function(e){c.a.render(r.a.createElement(r.a.Fragment,null),e)})),c.a.render(r.a.createElement("div",null,r.a.createElement("h1",null,e),r.a.createElement("div",null,t)),document.getElementById("commit-history"))}function w(e,t){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(i.a.mark((function e(t,a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://secure-tundra-40881.herokuapp.com/count?user=".concat(t,"&repo=").concat(a));case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),E(e.t0.status,e.t0.message),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e,t,a){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(i.a.mark((function e(t,a,n){var r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("https://api.github.com/repos/".concat(t,"/").concat(a,"/commits?page=").concat(n,"&per_page=100"));case 3:return r=e.sent,o=r.data,e.abrupt("return",o);case 8:throw e.prev=8,e.t0=e.catch(0),E(e.t0.status,e.t0.message),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var D=a(215),x=a(209),K=(a(166),Object(x.a)({root:{fontSize:"1.5em",marginRight:"10px","& label":{color:"#ddf",fontWeight:"700"},"& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}},input:{color:"white"}}));function j(e){var t=K();return r.a.createElement(D.a,{color:"primary",className:t.root,value:e.value,label:"User",onChange:e.handleChange,onKeyDown:e.handleKeyDown,InputProps:{className:t.input}})}function S(e){var t=K();return r.a.createElement(D.a,{color:"primary",className:t.root,type:"text",value:e.value,label:"Repository",onChange:e.handleChange,onKeyDown:e.handleKeyDown,InputProps:{className:t.input}})}function O(e){var t=K();return r.a.createElement(D.a,{color:"primary",className:t.root,type:"text",value:e.value,label:"Page Number",onChange:e.handleChange,onKeyDown:e.handleKeyDown,InputProps:{className:t.input}})}a(167);var H=a(216),I=a(60),L=a.n(I),M=a(62),B=a.n(M),P=a(63),_=a.n(P),z=a(61),F=a.n(z),q=a(64),T=a.n(q),A=Object(x.a)({root:{display:"inline-block","& svg":{color:"white"}}});function R(e){var t=A();return r.a.createElement("div",{className:t.root,id:"request",onKeyDown:e.handleKeyDown},r.a.createElement(H.a,{"aria-label":"delete",onClick:e.handleClick},r.a.createElement(L.a,{fontSize:"inherit",color:"primary"})))}function U(e){var t=A();return r.a.createElement("div",{className:t.root,onKeyDown:e.handleKeyDown},r.a.createElement(H.a,{"aria-label":"delete",onClick:e.handleClick},r.a.createElement(F.a,{fontSize:"inherit",color:"primary"})))}function W(e){var t=A();return r.a.createElement("div",{className:t.root,onKeyDown:e.handleKeyDown},r.a.createElement(H.a,{"aria-label":"delete",onClick:e.handleClick},r.a.createElement(B.a,{fontSize:"inherit",color:"primary"})))}function J(e){var t=A();return r.a.createElement("div",{className:t.root,onKeyDown:e.handleKeyDown},r.a.createElement(H.a,{"aria-label":"delete",onClick:e.handleClick},r.a.createElement(_.a,{fontSize:"inherit",color:"primary"})))}function G(e){var t=A();return r.a.createElement("div",{className:t.root,onKeyDown:e.handleKeyDown},r.a.createElement(H.a,{"aria-label":"delete",onClick:e.handleClick},r.a.createElement(T.a,{fontSize:"inherit",color:"primary"})))}var V=a(65),$=a.n(V),Q=(a(173),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(m.a)(a,[{key:"render",value:function(){var e=null===this.props.json.author?"anonymous author":this.props.json.author.login,t=null===this.props.json.author?"#":this.props.json.author.html_url,a=null===this.props.json.author?"#":this.props.json.author.avatar_url,n=new Date(this.props.json.commit.author.date),o=!0===this.props.json.commit.verification.verified?r.a.createElement("div",{className:"table-list-cell"},r.a.createElement("div",{className:"verify-mark"},"Verified")):r.a.createElement(r.a.Fragment,null);return r.a.createElement("li",{className:"commit-list-item"},r.a.createElement("div",{className:"table-list-cell",style:{width:"800px"}},r.a.createElement("p",{className:"commit-title"},r.a.createElement("a",{className:"message-link","data-pjax":"true",href:this.props.json.html_url,target:"_blank",rel:"noopener noreferrer"},$.a.emojify(this.props.json.commit.message))),r.a.createElement("div",{className:"author-area"},r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"author-avatar",alt:"author-avatar",src:a})),r.a.createElement("a",{className:"author-link","data-pjax":"true",href:"https://github.com/".concat(e,"/").concat(this.props.repo,"/commit?author=").concat(e),target:"_blank",rel:"noopener noreferrer"},e),r.a.createElement("span",{className:"date"},"committed on ",n.toLocaleDateString(),"\xa0",n.toLocaleTimeString()))),o)}}]),a}(n.Component));a(174);function X(e){var t="";return r.a.createElement(r.a.Fragment,null,e.jsonList.map((function(a,n){var o=String(new Date(a.commit.author.date)).split(" ").slice(1,4),c="".concat(o[0]," ").concat(o[1],", ").concat(o[2]);return c!==t?(t=c,r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("div",{className:"commit-group-title"},c),r.a.createElement(Q,{json:a,user:e.user,repo:e.repo}))):r.a.createElement(Q,{key:n,json:a,user:e.user,repo:e.repo})})))}a(175);function Y(){return r.a.createElement("div",{className:"sk-fading-circle"},r.a.createElement("div",{className:"sk-circle1 sk-circle"}),r.a.createElement("div",{className:"sk-circle2 sk-circle"}),r.a.createElement("div",{className:"sk-circle3 sk-circle"}),r.a.createElement("div",{className:"sk-circle4 sk-circle"}),r.a.createElement("div",{className:"sk-circle5 sk-circle"}),r.a.createElement("div",{className:"sk-circle6 sk-circle"}),r.a.createElement("div",{className:"sk-circle7 sk-circle"}),r.a.createElement("div",{className:"sk-circle8 sk-circle"}),r.a.createElement("div",{className:"sk-circle9 sk-circle"}),r.a.createElement("div",{className:"sk-circle10 sk-circle"}),r.a.createElement("div",{className:"sk-circle11 sk-circle"}),r.a.createElement("div",{className:"sk-circle12 sk-circle"}))}a(176);var Z=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).commitHistory=void 0,n.totalCommitNumHistory=void 0,n.handleUserChange=function(e){n.setState({user:e.currentTarget.value})},n.handleRepoChange=function(e){n.setState({repo:e.currentTarget.value})},n.handlePageChange=function(e){n.setState({page:e.currentTarget.value})},n.renderLoading=function(){document.querySelectorAll(".page-info-wrap").forEach((function(e){c.a.render(r.a.createElement(Y,null),e)})),c.a.render(r.a.createElement(Y,null),document.getElementById("commit-history"))},n.renderCommitHistory=function(){var e=Object(s.a)(i.a.mark((function e(t,a,o){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l="".concat(t,"/").concat(a,"/").concat(o),!1!==n.commitHistory.has(l)){e.next=4;break}return e.next=4,C(t,a,o).then((function(e){n.commitHistory.set(l,e)}));case 4:c.a.render(r.a.createElement(X,{jsonList:n.commitHistory.get(l),user:t,repo:a}),document.getElementById("commit-history"));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.renderPageInfo=function(){var e=Object(s.a)(i.a.mark((function e(t,a,o){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l="".concat(t,"/").concat(a),!1!==n.totalCommitNumHistory.has(l)){e.next=4;break}return e.next=4,w(t,a).then((function(e){var t=Number(e);n.totalCommitNumHistory.set(l,t)}));case 4:document.querySelectorAll(".page-info-wrap").forEach((function(e){c.a.render(r.a.createElement(k,{page:o,totalCommitNum:n.totalCommitNumHistory.get(l)}),e)}));case 5:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),n.renderMain=function(e,t,a){if(""===e||""===t)return!1;n.renderLoading(),n.renderCommitHistory(e,t,a),n.renderPageInfo(e,t,a)},n.handleFormKeyDown=function(e){13===e.keyCode&&n.renderMain(n.state.user,n.state.repo,Number(n.state.page))},n.handleLatestClick=function(){if(""===n.state.user||""===n.state.repo)return!1;n.renderLoading(),n.setState({page:"1"}),n.renderMain(n.state.user,n.state.repo,1)},n.handleBackClick=function(){if(""===n.state.user||""===n.state.repo)return!1;var e=Number(n.state.page);if(isNaN(e)||e<=1)return!1;n.renderLoading(),n.setState({page:String(e-1)}),n.renderMain(n.state.user,n.state.repo,e-1)},n.handleNextClick=Object(s.a)(i.a.mark((function e(){var t,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.user&&""!==n.state.repo){e.next=2;break}return e.abrupt("return",!1);case 2:if(n.renderLoading(),t=Number(n.state.page),a="".concat(n.state.user,"/").concat(n.state.repo),!1!==n.totalCommitNumHistory.has(a)){e.next=8;break}return e.next=8,w(n.state.user,n.state.repo).then((function(e){var t=Number(e);n.totalCommitNumHistory.set(a,t)}));case 8:if(r=1+(n.totalCommitNumHistory.get(a)/100|0),!(isNaN(t)||t>=r)){e.next=14;break}return n.renderMain(n.state.user,n.state.repo,t),e.abrupt("return",!1);case 14:n.setState({page:String(t+1)}),n.renderMain(n.state.user,n.state.repo,t+1);case 16:case"end":return e.stop()}}),e)}))),n.handleOldestClick=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n.state.user&&""!==n.state.repo){e.next=2;break}return e.abrupt("return",!1);case 2:if(n.renderLoading(),t="".concat(n.state.user,"/").concat(n.state.repo),!1!==n.totalCommitNumHistory.has(t)){e.next=7;break}return e.next=7,w(n.state.user,n.state.repo).then((function(e){var a=Number(e);n.totalCommitNumHistory.set(t,a)}));case 7:a=1+(n.totalCommitNumHistory.get(t)/100|0),n.setState({page:String(a)}),n.renderMain(n.state.user,n.state.repo,a);case 10:case"end":return e.stop()}}),e)}))),n.handleSearchKeyDown=function(e){13===e.keyCode&&n.renderMain(n.state.user,n.state.repo,Number(n.state.page))},n.handleLatestKeyDown=function(e){13===e.keyCode&&n.handleLatestClick()},n.handleBackKeyDown=function(e){13===e.keyCode&&n.handleBackClick()},n.handleNextKeyDown=function(e){13===e.keyCode&&n.handleNextClick()},n.handleOldestKeyDown=function(e){13===e.keyCode&&n.handleOldestClick()},n.state={user:"",repo:"",page:"1"},n.commitHistory=new Map,n.totalCommitNumHistory=new Map,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"header-menu"},r.a.createElement("div",{className:"site-title"},r.a.createElement("a",{href:"https://github.com/9sako6/commit-stalker",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(g.a,{animationKey:"github",size:32})),r.a.createElement("td",null,"Commit Stalker")))))),r.a.createElement(p.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement("div",null,r.a.createElement(j,{value:String(this.state.user),handleChange:this.handleUserChange,handleKeyDown:this.handleFormKeyDown}),r.a.createElement(S,{value:String(this.state.repo),handleChange:this.handleRepoChange,handleKeyDown:this.handleFormKeyDown}),r.a.createElement(O,{value:String(this.state.page),handleChange:this.handlePageChange,handleKeyDown:this.handleFormKeyDown}),r.a.createElement(R,{handleClick:function(){return e.renderMain(e.state.user,e.state.repo,Number(e.state.page))},handleKeyDown:this.handleSearchKeyDown}),r.a.createElement(U,{handleClick:this.handleLatestClick,handleKeyDown:this.handleLatestKeyDown}),r.a.createElement(W,{handleClick:this.handleBackClick,handleKeyDown:this.handleBackKeyDown}),r.a.createElement(J,{handleClick:this.handleNextClick,handleKeyDown:this.handleNextKeyDown}),r.a.createElement(G,{handleClick:this.handleOldestClick,handleKeyDown:this.handleOldestKeyDown}))))}}]),a}(n.Component),ee=a(214),te=Object(x.a)({root:{zIndex:900,position:"fixed",right:"10px",bottom:"60px",width:"160px",backgroundColor:"#f9f7f5",boxShadow:"0 1px 1px rgba(0, 0, 0, 0.3)",padding:"10px","& a":{textDecoration:"none"}}});function ae(){var e=te();return r.a.createElement(ee.a,{className:e.root},r.a.createElement("a",{href:"https://developer.github.com/v3/#rate-limiting",target:"_blank",rel:"noopener noreferrer"},"The GitHub API's rate limit allows for up to 60 requests per hour"))}a(177);c.a.render(r.a.createElement(Z,null),document.getElementById("site-header")),c.a.render(r.a.createElement(ae,null),document.getElementById("request-left-card")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,a){e.exports=a(178)},78:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.cf71c28a.chunk.js.map